var app=angular.module("app",["lumx","ngResource"]);app.controller("AppCtrl",["$scope",function(a){a.href=function(a){window.location=a},a.scrollTo=function(a){var b=$(a).offset().top;$("body, html").animate({scrollTop:b},{duration:500,easing:"swing"})},a.toggleNavigation=function(){$(".toolbar").toggleClass("open")},a.sortArrayBy=function(a,b){return a.sort(function(a,c){return a[b]>c[b]?1:a[b]<c[b]?-1:0}),a}}]);var generateQueryString=function(a){var b="?";for(p in a)b+=a[p][0]+"="+a[p][1]+"&";return b=b.slice(0,-1)},geocoder,map,marker,styles=[{featureType:"administrative",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"administrative.country",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#29b464"}]},{featureType:"landscape.man_made",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#48d083"}]},{featureType:"landscape.natural",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#48d083"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#29b464"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#41bb76"}]}],point1,point2;app.controller("IndexCtrl",["$scope","$http",function(a,b){function c(){geocoder=new google.maps.Geocoder;var b=new google.maps.LatLng(52.056826,5.464479),c={center:b,zoom:6,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0};map=new google.maps.Map(document.querySelector(".map"),c),map.setOptions({styles:styles}),google.maps.event.addListener(map,"idle",function(){a.initedCounter||(e(),f(),a.initedCounter=!0)})}function d(a){geocoder.geocode({address:a},function(a,b){if(b==google.maps.GeocoderStatus.OK){var c=a[0].geometry.location,d=a[0].geometry.viewport;for(r in a)if("country"==a[r].types[0]){c=a[r].geometry.location,d=a[r].geometry.viewport;break}point1=d.getSouthWest(),point2=d.getNorthEast(),$(".lookup-box .dots").hide(),map.setZoom(7),map.setCenter({lat:c.lat(),lng:c.lng()})}})}function e(){setTimeout(function(){return $(".lookup-box .dots").fadeIn(),$(".title-number-section .odometer").addClass("odometer-animating-up odometer-animating")},1e3),$(".counter-ip").click(function(){$(".counter-ip").hide(),$(".lookup-box .dots").hide(),$(".lookup-input").focus()}),$(".lookup-input").focus(function(){$(".counter-ip").hide(),$(".lookup-box .dots").hide()}),$(".lookup-input").blur(function(){$(".lookup-input").val().length<1&&($(".counter-ip").show(),$(".lookup-box .dots").show())}),setTimeout(function(){$(".results-block").fadeIn()},2800)}function f(){$(".search-btn").click(function(){var a=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,b=$(".lookup-input").val();a.test(b)&&g(b)})}function g(c){var e=generateQueryString([["ip",c],["format","json"]]);b.get("/api/lookup"+e).success(function(b){b&&b.countryCode?(a.demoResults=[b],geocoder&&d(a.demoResults[0].en)):(a.status_message="No results",a.demoResults=[])}).error(function(){a.loading=!1,a.status_message="Error Connecting!",a.demoResults=[]})}a.demoResults=[{countryCode:"NL",en:"Netherlands",ar:"هولندا"}],a.href=function(a){window.location=a},a.initedCounter=!1,document.querySelector(".map")&&google.maps.event.addDomListener(window,"load",c)}]);